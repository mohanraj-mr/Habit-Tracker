<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REDS PLMT Tracker - Enhanced</title>
    <link rel="stylesheet" href="style.css">
    
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js';
        import { getFirestore } from 'https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js';
        import { getAuth } from 'https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js';
        
        // IMPORTANT: Replace with your own Firebase project configuration
        const firebaseConfig = {
            apiKey: "your-api-key",
            authDomain: "your-auth-domain.firebaseapp.com",
            projectId: "your-project-id",
            storageBucket: "your-storage-bucket.appspot.com",
            messagingSenderId: "your-Messaginger-id",
            appId: "your-app-id"
        };
        
        // Initialize Firebase and make it available globally
        window.firebaseApp = initializeApp(firebaseConfig);
        window.firebaseDB = getFirestore(window.firebaseApp);
        window.firebaseAuth = getAuth(window.firebaseApp);
    </script>
</head>
<body>
    <div class="app-container">
        <div id="login-screen" class="login-screen">
            <div class="login-container">
                <div class="login-header">
                    <div class="app-logo">
                        <span class="logo-icon">🦉</span>
                        <h1>REDS PLMT</h1>
                    </div>
                    <p class="login-subtitle">Your gamified habit tracker</p>
                </div>
                
                <div class="login-content">
                    <div class="mascot-preview">
                        <div class="mascot-grid">
                            <span class="mascot-mini">🦉</span>
                            <span class="mascot-mini">🐻</span>
                            <span class="mascot-mini">🦊</span>
                            <span class="mascot-mini">🐱</span>
                            <span class="mascot-mini">🐰</span>
                            <span class="mascot-mini">🐼</span>
                            <span class="mascot-mini">🐯</span>
                            <span class="mascot-mini">🐕</span>
                        </div>
                        <p>Meet your habit mascots!</p>
                    </div>

                    <div id="g_id_onload"
                         data-client_id="801956053270-oqv3c9t49cl3qaeh67q0ltnekli0nu1t.apps.googleusercontent.com"
                         data-callback="handleCredentialResponse">
                    </div>
                    <div class="g_id_signin"
                         data-type="standard"
                         data-size="large"
                         data-theme="outline"
                         data-text="sign_in_with"
                         data-shape="rectangular"
                         data-logo_alignment="left">
                    </div>
                    
                    <div class="auth-section">
                        <div class="demo-mode">
                            <button id="demo-mode-btn" class="btn btn--outline">Try Demo Mode</button>
                            <p class="demo-note">Continue without an account (data is temporary)</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="main-app" class="main-app hidden">
            <nav class="nav-bar">
                <div class="nav-brand">
                    <span class="mascot-icon">🦉</span>
                    <h1>REDS PLMT</h1>
                </div>
                <div class="nav-center">
                    <div class="nav-tabs">
                        <button class="nav-tab active" data-tab="dashboard">Dashboard</button>
                        <button class="nav-tab" data-tab="progress">Progress</button>
                        <button class="nav-tab" data-tab="reflection">Reflection</button>
                        <button class="nav-tab" data-tab="settings">Settings</button>
                    </div>
                </div>
                <div class="nav-user">
                    <div class="user-info">
                        <img id="user-avatar" class="user-avatar" src="" alt="User Avatar">
                        <span id="user-name" class="user-name">User</span>
                    </div>
                    <button id="signout-btn" class="btn btn--sm btn--outline">Sign Out</button>
                </div>
            </nav>

            <div id="dashboard-view" class="view active">...</div>
            <div id="progress-view" class="view">...</div>
            <div id="reflection-view" class="view">...</div>
            <div id="settings-view" class="view">...</div>
        </div>

        <div id="level-up-modal" class="modal">...</div>
        <div id="habit-complete-modal" class="modal">...</div>
        <div id="mascot-selector-modal" class="modal">...</div>
    </div>

    <script src="app.js"></script>
</body>
</html>
